<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHIP | Tesla Robotaxi Business — Hypothetical Model</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=JetBrains+Mono:wght@400;600;700&family=DM+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-deep: #09090B;
            --bg-card: #0A1628;
            --bg-card-alt: #0D1B30;
            --bg-elevated: #112240;
            --yellow: #FFFF00;
            --yellow-dim: #CCCC00;
            --yellow-glow: rgba(255,255,0,0.08);
            --teal: #0ABAB5;
            --teal-dim: rgba(10,186,181,0.15);
            --red-bg: #1C0B0F;
            --red-border: #DC2626;
            --red-text: #FCA5A5;
            --red-bright: #EF4444;
            --green: #22C55E;
            --green-dim: rgba(34,197,94,0.12);
            --blue: #3B82F6;
            --orange: #F97316;
            --text-primary: #FAFAFA;
            --text-secondary: #CBD5E1;
            --text-muted: #94A3B8;
            --border: #1E3A5F;
            --border-hover: #2D5A8E;
            --grid: rgba(255,255,255,0.04);
            --shadow-card: 0 4px 24px rgba(0,0,0,0.4), 0 1px 4px rgba(0,0,0,0.3);
            --shadow-glow: 0 0 40px rgba(255,255,0,0.06);
            --radius: 12px;
            --radius-lg: 16px;
            --ease: cubic-bezier(0.16, 1, 0.3, 1);
        }

        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'DM Sans', -apple-system, sans-serif;
            background: var(--bg-deep);
            color: var(--text-primary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        /* ===== NOISE OVERLAY ===== */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 9999;
        }

        /* ===== HEADER ===== */
        .header {
            background: linear-gradient(180deg, #111113 0%, var(--bg-deep) 100%);
            border-bottom: 1px solid var(--border);
            padding: 2.5rem 2rem 2rem;
            position: relative;
        }
        .header::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--yellow), transparent);
            opacity: 0.4;
        }
        .header-inner {
            max-width: 1280px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            flex-wrap: wrap;
            gap: 1.5rem;
        }
        .chip-brand {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--teal);
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-bottom: 0.5rem;
        }
        .header h1 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2rem, 5vw, 3.2rem);
            color: var(--yellow);
            letter-spacing: 2px;
            line-height: 1.1;
            text-shadow: 0 0 60px rgba(255,255,0,0.15);
        }
        .header .subtitle {
            color: var(--text-muted);
            font-size: 0.9rem;
            font-weight: 400;
            margin-top: 0.4rem;
        }
        .controls {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        .controls button {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            font-weight: 600;
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            color: var(--text-secondary);
            padding: 0.6rem 1.2rem;
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.2s var(--ease);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .controls button:hover {
            border-color: var(--yellow);
            color: var(--yellow);
            box-shadow: 0 0 20px rgba(255,255,0,0.08);
        }

        /* ===== CONTAINER ===== */
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* ===== SECTION TITLES ===== */
        .section-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.6rem;
            color: var(--yellow);
            letter-spacing: 2px;
            margin: 3rem 0 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border);
            position: relative;
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 80px;
            height: 2px;
            background: var(--yellow);
        }

        /* ===== GRID ===== */
        .row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(100%, 500px), 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .row-full { grid-template-columns: 1fr; }

        /* ===== VEHICLE CARDS ===== */
        .vehicle-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .vehicle-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s var(--ease);
            position: relative;
            overflow: hidden;
        }
        .vehicle-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--teal), var(--yellow));
            opacity: 0;
            transition: opacity 0.3s;
        }
        .vehicle-card:hover::before { opacity: 1; }
        .vehicle-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-card);
        }
        .vehicle-card h2 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.3rem;
            color: var(--yellow);
            letter-spacing: 1.5px;
            margin-bottom: 0.35rem;
        }
        .vehicle-card p {
            color: #94A3B8;
            font-size: 0.85rem;
        }

        /* ===== KPI CARDS ===== */
        .kpi-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .kpi-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 1.25rem 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s var(--ease);
            position: relative;
            overflow: hidden;
        }
        .kpi-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .kpi-card:nth-child(1)::before { background: var(--orange); }
        .kpi-card:nth-child(2)::before { background: var(--green); }
        .kpi-card:nth-child(3)::before { background: var(--blue); }
        .kpi-card:nth-child(4)::before { background: var(--teal); }
        .kpi-card:nth-child(5)::before { background: var(--yellow); }
        .kpi-card:hover::before { opacity: 1; }
        .kpi-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-3px);
            box-shadow: var(--shadow-card);
        }
        .kpi-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 0.5rem;
        }
        .kpi-value {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2.4rem;
            letter-spacing: 1px;
            line-height: 1;
        }
        .kpi-card:nth-child(1) .kpi-value { color: var(--orange); }
        .kpi-card:nth-child(2) .kpi-value { color: var(--green); }
        .kpi-card:nth-child(3) .kpi-value { color: var(--blue); }
        .kpi-card:nth-child(4) .kpi-value { color: var(--teal); }
        .kpi-card:nth-child(5) .kpi-value { color: var(--yellow); }
        .kpi-detail {
            font-size: 0.75rem;
            color: #CBD5E1;
            margin-top: 0.5rem;
            line-height: 1.4;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s var(--ease), margin 0.3s;
        }
        .kpi-card.expanded .kpi-detail {
            max-height: 120px;
            margin-top: 0.75rem;
        }
        .kpi-hint {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.6rem;
            color: var(--text-muted);
            margin-top: 0.4rem;
            opacity: 0.5;
        }
        .kpi-card.expanded .kpi-hint { display: none; }

        /* ===== CHART CARDS ===== */
        .chart-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 1.75rem;
            box-shadow: var(--shadow-card);
            transition: all 0.3s var(--ease);
            position: relative;
            overflow: hidden;
        }
        .chart-card:hover {
            border-color: var(--border-hover);
        }
        .chart-card h2 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.15rem;
            color: var(--yellow);
            letter-spacing: 1.5px;
            margin-bottom: 1rem;
        }
        .chart-card canvas {
            max-height: 320px;
        }
        .chart-note {
            font-size: 0.78rem;
            color: #CBD5E1;
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px solid var(--border);
            line-height: 1.5;
        }

        /* ===== RED ANOMALY CALLOUT ===== */
        .anomaly-box {
            background: var(--red-bg);
            border: 1px solid rgba(220,38,38,0.3);
            border-left: 3px solid var(--red-border);
            border-radius: var(--radius);
            padding: 1.1rem 1.25rem;
            margin: 1rem 0;
        }
        .anomaly-box .anomaly-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: var(--red-bright);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 0.35rem;
        }
        .anomaly-box p {
            color: var(--red-text);
            font-size: 0.88rem;
            font-weight: 500;
            line-height: 1.5;
        }

        /* ===== GREEN INSIGHT BOX ===== */
        .insight-box {
            background: var(--green-dim);
            border: 1px solid rgba(34,197,94,0.2);
            border-left: 3px solid var(--green);
            border-radius: var(--radius);
            padding: 1rem 1.25rem;
            margin: 1rem 0;
        }
        .insight-box .insight-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: var(--green);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 0.3rem;
        }
        .insight-box p {
            color: #A7F3D0;
            font-size: 0.88rem;
            font-weight: 500;
            line-height: 1.5;
        }

        /* ===== TABLES ===== */
        .table-wrap { overflow-x: auto; border-radius: var(--radius); }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th {
            background: var(--bg-elevated);
            color: var(--yellow);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            padding: 0.9rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
            white-space: nowrap;
        }
        td {
            padding: 0.9rem 1rem;
            color: #CBD5E1;
            font-size: 0.88rem;
            border-bottom: 1px solid var(--border);
            white-space: nowrap;
        }
        tr:hover td { background: rgba(255,255,0,0.02); }
        .profit { color: var(--green); font-weight: 700; }
        .cost { color: var(--red-text); font-weight: 600; }

        /* ===== RISK BARS ===== */
        .risk-item { margin: 0.85rem 0; }
        .risk-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.35rem;
        }
        .risk-name {
            font-size: 0.85rem;
            color: #CBD5E1;
            font-weight: 500;
        }
        .risk-level {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .risk-level.low { color: var(--green); }
        .risk-level.med { color: var(--orange); }
        .risk-level.high { color: var(--red-bright); }
        .risk-track {
            background: var(--bg-elevated);
            border-radius: 6px;
            height: 8px;
            overflow: hidden;
        }
        .risk-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 1.2s var(--ease);
        }
        .risk-fill.low { background: linear-gradient(90deg, #16A34A, #22C55E); }
        .risk-fill.med { background: linear-gradient(90deg, #F59E0B, #F97316); }
        .risk-fill.high { background: linear-gradient(90deg, #DC2626, #EF4444); }

        /* ===== TIMELINE ===== */
        .timeline { padding: 0.5rem 0; }
        .tl-item {
            display: flex;
            gap: 1.25rem;
            margin-bottom: 1.5rem;
            align-items: flex-start;
        }
        .tl-dot {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            background: var(--bg-elevated);
            border: 2px solid var(--yellow);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.1rem;
            color: var(--yellow);
            flex-shrink: 0;
        }
        .tl-content h3 {
            font-size: 0.95rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.15rem;
        }
        .tl-content p {
            color: #94A3B8;
            font-size: 0.85rem;
            line-height: 1.5;
        }

        /* ===== HIGHLIGHT BOX ===== */
        .highlight-box {
            background: var(--bg-card);
            border: 2px solid var(--yellow);
            border-radius: var(--radius-lg);
            padding: 2.5rem 2rem;
            text-align: center;
            margin: 2.5rem 0;
            position: relative;
            box-shadow: var(--shadow-glow);
        }
        .highlight-box .big-number {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2.5rem, 6vw, 4rem);
            color: var(--yellow);
            letter-spacing: 3px;
            text-shadow: 0 0 60px rgba(255,255,0,0.2);
        }
        .highlight-box .big-label {
            color: var(--text-muted);
            font-size: 0.95rem;
            margin-top: 0.5rem;
        }

        /* ===== DISCLAIMER ===== */
        .disclaimer {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-top: 2.5rem;
        }
        .disclaimer-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.1rem;
            color: var(--red-bright);
            letter-spacing: 1.5px;
            margin-bottom: 0.75rem;
        }
        .disclaimer-text {
            font-size: 0.78rem;
            color: #94A3B8;
            line-height: 1.7;
        }
        .disclaimer-text p { margin-bottom: 0.6rem; }
        .disclaimer-text strong { color: #CBD5E1; }

        .footer-brand {
            text-align: center;
            margin-top: 1.5rem;
            padding: 1rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--text-muted);
            letter-spacing: 1px;
        }
        .footer-brand a {
            color: var(--teal);
            text-decoration: none;
        }
        .footer-brand a:hover { text-decoration: underline; }

        /* ===== MODAL ===== */
        .modal-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(8px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        .modal-overlay.active { display: flex; }
        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            max-width: 800px;
            width: 92%;
            max-height: 80vh;
            overflow: hidden;
            box-shadow: 0 24px 80px rgba(0,0,0,0.6);
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.25rem 1.5rem;
            border-bottom: 1px solid var(--border);
        }
        .modal-header h3 {
            font-family: 'Bebas Neue', sans-serif;
            color: var(--yellow);
            letter-spacing: 1px;
        }
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-muted);
            cursor: pointer;
            transition: color 0.2s;
        }
        .modal-close:hover { color: var(--red-bright); }
        .modal-body {
            padding: 1.5rem;
            overflow-y: auto;
            max-height: calc(80vh - 70px);
        }
        .modal-body pre {
            background: var(--bg-deep);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 1.25rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.78rem;
            line-height: 1.6;
            color: var(--text-secondary);
            overflow-x: auto;
        }

        /* ===== EXECUTIVE SUMMARY MODAL ===== */
        .summary-modal { max-width: 720px; }
        .summary-body { padding: 0 !important; }

        .exec-hero {
            background: linear-gradient(135deg, #0A1628 0%, #0D2847 50%, #0A1628 100%);
            padding: 2.5rem 2rem;
            text-align: center;
            border-bottom: 1px solid var(--border);
        }
        .exec-hero-number {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 3.5rem;
            color: var(--yellow);
            letter-spacing: 3px;
            line-height: 1;
            text-shadow: 0 0 40px rgba(255,255,0,0.2);
        }
        .exec-hero-label {
            color: #94A3B8;
            font-size: 0.95rem;
            margin-top: 0.5rem;
            font-weight: 500;
        }

        .exec-section {
            padding: 1.5rem 2rem;
        }
        .exec-heading {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.2rem;
            color: var(--yellow);
            letter-spacing: 1.5px;
            margin-bottom: 0.6rem;
        }
        .exec-section p {
            color: #CBD5E1;
            font-size: 0.92rem;
            line-height: 1.7;
        }

        .exec-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0;
            border-top: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
        }
        .exec-stat {
            padding: 1.25rem 1rem;
            text-align: center;
            border-right: 1px solid var(--border);
        }
        .exec-stat:last-child { border-right: none; }
        .exec-stat-value {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.6rem;
            color: var(--teal);
            letter-spacing: 1px;
            line-height: 1.1;
        }
        .exec-stat-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.6rem;
            color: #94A3B8;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 0.3rem;
        }

        .exec-callout {
            display: flex;
            gap: 1rem;
            align-items: flex-start;
            margin: 0 2rem;
            padding: 1.25rem;
            background: rgba(10,186,181,0.08);
            border: 1px solid rgba(10,186,181,0.2);
            border-left: 3px solid var(--teal);
            border-radius: var(--radius);
        }
        .exec-callout-icon {
            font-size: 1.4rem;
            flex-shrink: 0;
            line-height: 1;
            margin-top: 0.1rem;
        }
        .exec-callout-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--teal);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 0.35rem;
            font-weight: 700;
        }
        .exec-callout p {
            color: #CBD5E1;
            font-size: 0.85rem;
            line-height: 1.6;
        }
        .exec-callout p strong { color: var(--yellow); }

        .exec-callout-red {
            background: #1C0B0F;
            border-color: rgba(220,38,38,0.3);
            border-left-color: var(--red-border);
            margin-top: 0;
        }
        .exec-callout-red .exec-callout-title { color: var(--red-bright); }
        .exec-callout-red p { color: #FCA5A5; }

        .exec-table-wrap { overflow-x: auto; }
        .exec-table {
            width: 100%;
            border-collapse: collapse;
        }
        .exec-table td {
            padding: 0.7rem 0;
            font-size: 0.88rem;
            border-bottom: 1px solid var(--border);
            white-space: nowrap;
        }
        .exec-table td:first-child { color: #94A3B8; }
        .exec-table td:last-child {
            text-align: right;
            color: #FAFAFA;
        }
        .exec-table td strong { color: var(--teal); }

        .exec-footer-line {
            text-align: center;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: #52525B;
            letter-spacing: 1px;
            padding: 1.25rem 2rem;
            border-top: 1px solid var(--border);
        }

        /* B&W overrides for exec summary */
        [data-theme="bw"] .exec-hero { background: #FFFFFF; border-bottom: 2px solid #000; }
        [data-theme="bw"] .exec-hero-number { color: #000; text-shadow: none; }
        [data-theme="bw"] .exec-hero-label { color: #000; }
        [data-theme="bw"] .exec-heading { color: #000; }
        [data-theme="bw"] .exec-section p { color: #000; }
        [data-theme="bw"] .exec-grid { border-color: #000; }
        [data-theme="bw"] .exec-stat { border-color: #000; }
        [data-theme="bw"] .exec-stat-value { color: #000; }
        [data-theme="bw"] .exec-stat-label { color: #000; }
        [data-theme="bw"] .exec-callout {
            background: #FFFFFF;
            border: 2px solid #000;
            border-left: 4px solid #000;
        }
        [data-theme="bw"] .exec-callout-title { color: #000; }
        [data-theme="bw"] .exec-callout p { color: #000; }
        [data-theme="bw"] .exec-callout p strong { color: #000; }
        [data-theme="bw"] .exec-callout-red {
            background: #FFFFFF;
            border-color: #000;
            border-left-color: #000;
        }
        [data-theme="bw"] .exec-callout-red .exec-callout-title { color: #000; }
        [data-theme="bw"] .exec-callout-red p { color: #000; }
        [data-theme="bw"] .exec-table td { color: #000; border-color: #000; }
        [data-theme="bw"] .exec-table td strong { color: #000; }
        [data-theme="bw"] .exec-footer-line { color: #000; border-color: #000; }

        @media (max-width: 600px) {
            .exec-grid { grid-template-columns: repeat(2, 1fr); }
            .exec-stat:nth-child(2) { border-right: none; }
            .exec-hero-number { font-size: 2.5rem; }
            .exec-section { padding: 1.25rem 1.25rem; }
            .exec-callout { margin: 0 1.25rem; }
        }

        /* ===== B&W THEME ===== */
        [data-theme="bw"] {
            --bg-deep: #FFFFFF;
            --bg-card: #FFFFFF;
            --bg-card-alt: #FFFFFF;
            --bg-elevated: #FFFFFF;
            --yellow: #000000;
            --yellow-dim: #000000;
            --yellow-glow: none;
            --teal: #000000;
            --teal-dim: #FFFFFF;
            --red-bg: #FFFFFF;
            --red-border: #000000;
            --red-text: #000000;
            --red-bright: #000000;
            --green: #000000;
            --green-dim: #FFFFFF;
            --blue: #000000;
            --orange: #000000;
            --text-primary: #000000;
            --text-secondary: #000000;
            --text-muted: #000000;
            --border: #000000;
            --border-hover: #000000;
            --grid: rgba(0,0,0,0.1);
            --shadow-card: none;
            --shadow-glow: none;
            --radius: 12px;
            --radius-lg: 16px;
        }
        [data-theme="bw"] body::before { display: none; }
        [data-theme="bw"] .header {
            background: #FFFFFF;
            border-bottom: 2px solid #000000;
        }
        [data-theme="bw"] .header::after { background: #000000; opacity: 1; }
        [data-theme="bw"] .chip-brand { color: #000000; }
        [data-theme="bw"] .header h1 {
            color: #000000;
            text-shadow: none;
        }
        [data-theme="bw"] .header .subtitle { color: #000000; }
        [data-theme="bw"] .controls button {
            background: #FFFFFF;
            border: 2px solid #000000;
            color: #000000;
        }
        [data-theme="bw"] .controls button:hover {
            background: #000000;
            color: #FFFFFF;
            box-shadow: none;
        }
        [data-theme="bw"] .section-title {
            color: #000000;
            border-bottom: 2px solid #000000;
        }
        [data-theme="bw"] .section-title::after { background: #000000; }
        [data-theme="bw"] .vehicle-card {
            border: 2px solid #000000;
            box-shadow: none;
        }
        [data-theme="bw"] .vehicle-card::before { background: #000000; }
        [data-theme="bw"] .vehicle-card h2 { color: #000000; }
        [data-theme="bw"] .vehicle-card p { color: #000000; }
        [data-theme="bw"] .kpi-card {
            border: 2px solid #000000;
            box-shadow: none;
        }
        [data-theme="bw"] .kpi-card::before { background: #000000 !important; }
        [data-theme="bw"] .kpi-label { color: #000000; }
        [data-theme="bw"] .kpi-value { color: #000000 !important; }
        [data-theme="bw"] .kpi-hint { color: #000000; }
        [data-theme="bw"] .kpi-detail { color: #000000; }
        [data-theme="bw"] .chart-card {
            border: 2px solid #000000;
            box-shadow: none;
        }
        [data-theme="bw"] .chart-card h2 { color: #000000; }
        [data-theme="bw"] .chart-note { color: #000000; border-top: 1px solid #000000; }
        [data-theme="bw"] .anomaly-box {
            background: #FFFFFF;
            border: 2px solid #000000;
            border-left: 4px solid #000000;
        }
        [data-theme="bw"] .anomaly-box .anomaly-label { color: #000000; }
        [data-theme="bw"] .anomaly-box p { color: #000000; }
        [data-theme="bw"] .insight-box {
            background: #FFFFFF;
            border: 2px solid #000000;
            border-left: 4px solid #000000;
        }
        [data-theme="bw"] .insight-box .insight-label { color: #000000; }
        [data-theme="bw"] .insight-box p { color: #000000; }
        [data-theme="bw"] th {
            background: #000000;
            color: #FFFFFF;
        }
        [data-theme="bw"] td { color: #000000; border-bottom: 1px solid #000000; }
        [data-theme="bw"] tr:hover td { background: #FFFFFF; }
        [data-theme="bw"] .profit { color: #000000; }
        [data-theme="bw"] .cost { color: #000000; }
        [data-theme="bw"] .risk-name { color: #000000; }
        [data-theme="bw"] .risk-level { color: #000000 !important; }
        [data-theme="bw"] .risk-track { background: #FFFFFF; border: 1px solid #000000; }
        [data-theme="bw"] .risk-fill { background: #000000 !important; }
        [data-theme="bw"] .tl-dot {
            background: #FFFFFF;
            border: 2px solid #000000;
            color: #000000;
        }
        [data-theme="bw"] .tl-content h3 { color: #000000; }
        [data-theme="bw"] .tl-content p { color: #000000; }
        [data-theme="bw"] .highlight-box {
            border: 3px solid #000000;
            box-shadow: none;
        }
        [data-theme="bw"] .highlight-box .big-number {
            color: #000000;
            text-shadow: none;
        }
        [data-theme="bw"] .highlight-box .big-label { color: #000000; }
        [data-theme="bw"] .disclaimer {
            border: 2px solid #000000;
        }
        [data-theme="bw"] .disclaimer-title { color: #000000; }
        [data-theme="bw"] .disclaimer-text { color: #000000; }
        [data-theme="bw"] .disclaimer-text strong { color: #000000; }
        [data-theme="bw"] .footer-brand { color: #000000; }
        [data-theme="bw"] .footer-brand a { color: #000000; text-decoration: underline; }
        [data-theme="bw"] .modal { border: 2px solid #000000; }
        [data-theme="bw"] .modal-header { border-bottom: 2px solid #000000; }
        [data-theme="bw"] .modal-header h3 { color: #000000; }
        [data-theme="bw"] .modal-body pre {
            background: #FFFFFF;
            border: 1px solid #000000;
            color: #000000;
        }

        /* ===== ANIMATIONS ===== */
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(16px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .anim { animation: fadeUp 0.5s var(--ease) forwards; opacity: 0; }
        .anim-d1 { animation-delay: 0.05s; }
        .anim-d2 { animation-delay: 0.1s; }
        .anim-d3 { animation-delay: 0.15s; }
        .anim-d4 { animation-delay: 0.2s; }
        .anim-d5 { animation-delay: 0.25s; }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .container { padding: 1.25rem; }
            .header { padding: 1.5rem 1.25rem; }
            .header-inner { flex-direction: column; align-items: flex-start; }
            .row { grid-template-columns: 1fr; }
            .kpi-row { grid-template-columns: repeat(2, 1fr); }
            .controls { width: 100%; }
            th, td { padding: 0.6rem 0.65rem; font-size: 0.75rem; }
        }

        /* ===== FOCUS ===== */
        button:focus-visible { outline: 2px solid var(--yellow); outline-offset: 2px; }

        /* ===== PRINT ===== */
        @media print {
            body { background: #fff !important; color: #000 !important; }
            body::before { display: none; }
            .controls { display: none !important; }
            .kpi-hint { display: none !important; }
        }
    </style>
</head>
<body>

<!-- ===== HEADER ===== -->
<div class="header">
    <div class="header-inner">
        <div>
            <div class="chip-brand">CHIP | Wealth Management for Main Street</div>
            <h1>Tesla Robotaxi Business — Hypothetical Model</h1>
            <div class="subtitle">Educational Mock Dashboard &amp; Projected Business Scenario</div>
        </div>
        <div class="controls">
            <button id="themeBtn" onclick="cycleTheme()">&#9680; B&amp;W</button>
            <button onclick="openSummary()">&#9889; Executive Summary</button>
            <button onclick="openModal()">&#128196; Source Data</button>
        </div>
    </div>
</div>

<!-- ===== MAIN ===== -->
<div class="container">

    <!-- VEHICLES -->
    <div class="vehicle-row">
        <div class="vehicle-card anim anim-d1">
            <h2>Tesla Model 3</h2>
            <p>Starting at ~$38,990 + FSD &bull; Lower entry cost &bull; Compact &amp; efficient</p>
        </div>
        <div class="vehicle-card anim anim-d2">
            <h2>Tesla Model Y</h2>
            <p>Starting at ~$44,990 + FSD &bull; More passenger space &bull; SUV comfort</p>
        </div>
    </div>

    <!-- KPIs -->
    <div class="kpi-row">
        <div class="kpi-card anim anim-d1" onclick="this.classList.toggle('expanded')">
            <div class="kpi-label">Startup Cost</div>
            <div class="kpi-value">$57,990</div>
            <div class="kpi-hint">Tap for details</div>
            <div class="kpi-detail">Includes Tesla Model Y ($44,990), FSD ($8,000), commercial insurance ($3,000/yr), registration ($500), and equipment ($500). Financeable with ~$5,300 down.</div>
        </div>
        <div class="kpi-card anim anim-d2" onclick="this.classList.toggle('expanded')">
            <div class="kpi-label">Monthly Profit</div>
            <div class="kpi-value">$5,187</div>
            <div class="kpi-hint">Tap for details</div>
            <div class="kpi-detail">Moderate scenario: 10 hrs/day, 2 rides/hr at $15 average fare. After Tesla's 25% platform fee and $1,563 in monthly costs — roughly $170/day.</div>
        </div>
        <div class="kpi-card anim anim-d3" onclick="this.classList.toggle('expanded')">
            <div class="kpi-label">Annual ROI</div>
            <div class="kpi-value">107%</div>
            <div class="kpi-hint">Tap for details</div>
            <div class="kpi-detail">Your $57,990 investment generates $62,244 in Year 1 profit — more than doubling your money. Very few investments offer 100%+ annual returns.</div>
        </div>
        <div class="kpi-card anim anim-d4" onclick="this.classList.toggle('expanded')">
            <div class="kpi-label">Break-Even</div>
            <div class="kpi-value">11 MO</div>
            <div class="kpi-hint">Tap for details</div>
            <div class="kpi-detail">At $5,187/month profit, recover the full $57,990 in about 11 months. Conservative: 23 months. Aggressive: 6 months.</div>
        </div>
        <div class="kpi-card anim anim-d5" onclick="this.classList.toggle('expanded')">
            <div class="kpi-label">Profit Margin</div>
            <div class="kpi-value">57%</div>
            <div class="kpi-hint">Tap for details</div>
            <div class="kpi-detail">57 cents of every dollar earned (after platform fees) is profit. Most businesses operate at 10–20%. The key: no driver salary, normally 60–70% of ride-hail costs.</div>
        </div>
    </div>

    <!-- REVENUE SCENARIOS -->
    <div class="section-title">Revenue Scenarios</div>
    <div class="row">
        <div class="chart-card">
            <h2>Monthly Profit by Scenario</h2>
            <canvas id="scenarioChart"></canvas>
            <div class="insight-box">
                <div class="insight-label">Key Insight</div>
                <p>Even the conservative scenario (6 hrs/day) covers the car payment and generates meaningful passive income.</p>
            </div>
        </div>
        <div class="chart-card">
            <h2>Annual Revenue vs. Costs vs. Profit</h2>
            <canvas id="annualChart"></canvas>
            <div class="anomaly-box">
                <div class="anomaly-label">&#9888; Critical Variable</div>
                <p>Operating costs stay nearly flat at ~$18,756/year regardless of hours driven. Higher utilization = dramatically higher margins. Going from 6 to 16 hours doesn't triple costs, but nearly triples profit.</p>
            </div>
        </div>
    </div>

    <!-- COST BREAKDOWN -->
    <div class="section-title">Cost Breakdown</div>
    <div class="row">
        <div class="chart-card">
            <h2>Startup Cost Breakdown</h2>
            <canvas id="startupPie"></canvas>
            <div class="chart-note">92% of startup cost is the vehicle + FSD. If Tesla lowers pricing, the business becomes even more attractive.</div>
        </div>
        <div class="chart-card">
            <h2>Monthly Operating Costs — $1,563/mo</h2>
            <canvas id="monthlyCostPie"></canvas>
            <div class="insight-box">
                <div class="insight-label">Post-Payoff Boost</div>
                <p>After loan payoff (month 61+), costs drop to $630/mo and monthly profit jumps to $6,120.</p>
            </div>
        </div>
    </div>

    <!-- FLEET SCALING -->
    <div class="section-title">Fleet Scaling Projections</div>
    <div class="row row-full">
        <div class="chart-card">
            <h2>Annual Profit by Fleet Size</h2>
            <canvas id="fleetChart"></canvas>
            <div class="insight-box">
                <div class="insight-label">Scalability</div>
                <p>Unlike a restaurant, adding a "new location" requires no employees and no lease — just another Tesla.</p>
            </div>
        </div>
    </div>

    <!-- BREAK-EVEN -->
    <div class="section-title">Break-Even Timeline</div>
    <div class="row">
        <div class="chart-card">
            <h2>Cumulative Cash Flow (Moderate)</h2>
            <canvas id="breakEvenChart"></canvas>
            <div class="chart-note">Start at &minus;$57,990. Each month adds $5,187. The line crosses $0 around month 11 — your break-even point.</div>
        </div>
        <div class="chart-card">
            <h2>Break-Even by Scenario</h2>
            <canvas id="breakEvenBars"></canvas>
            <div class="anomaly-box">
                <div class="anomaly-label">&#9888; Context Check</div>
                <p>A typical restaurant takes 3–5 years to break even. Even the most conservative robotaxi scenario beats most traditional businesses.</p>
            </div>
        </div>
    </div>

    <!-- COMPARISONS -->
    <div class="section-title">Robotaxi vs. Traditional Rideshare</div>
    <div class="row">
        <div class="chart-card">
            <h2>Cost per Mile Comparison</h2>
            <canvas id="costPerMile"></canvas>
            <div class="insight-box">
                <div class="insight-label">Fuel Savings</div>
                <p>Over 100,000 miles, you save $11,000–$14,000 on fuel alone compared to gas vehicles.</p>
            </div>
        </div>
        <div class="chart-card">
            <h2>Daily Operating Hours</h2>
            <canvas id="hoursChart"></canvas>
            <div class="anomaly-box">
                <div class="anomaly-label">&#9888; Force Multiplier</div>
                <p>2&times; the hours of a human driver = 2&times; the revenue. Two employees for the price of zero.</p>
            </div>
        </div>
    </div>

    <!-- FUEL -->
    <div class="row row-full">
        <div class="chart-card">
            <h2>5-Year Fuel/Energy Cost — Electric vs. Gas</h2>
            <canvas id="fuelChart"></canvas>
            <div class="insight-box">
                <div class="insight-label">Total Savings</div>
                <p>$23,850 in fuel savings over 5 years effectively reduces the startup cost to ~$34,000 compared to a gas taxi.</p>
            </div>
        </div>
    </div>

    <!-- SENSITIVITY -->
    <div class="section-title">Sensitivity Analysis</div>
    <div class="row row-full">
        <div class="chart-card">
            <h2>Impact on Monthly Profit When Variables Change</h2>
            <canvas id="sensitivityChart"></canvas>
            <div class="anomaly-box">
                <div class="anomaly-label">&#9888; Worst-Case Scenario</div>
                <p>Even when every variable moves against you simultaneously — fares drop 20%, platform fees increase, hours decrease, and insurance costs spike — the business still generates $1,712/month ($20,544/year). Biggest risks are fare reductions and low demand, both market-driven. Choose a high-demand area.</p>
            </div>
        </div>
    </div>

    <!-- RISK ASSESSMENT -->
    <div class="section-title">Risk Assessment</div>
    <div class="row row-full">
        <div class="chart-card">
            <h2>Risk Level by Category</h2>
            <div class="risk-item"><div class="risk-header"><span class="risk-name">Regulatory Delays</span><span class="risk-level med">Medium-High</span></div><div class="risk-track"><div class="risk-fill med" data-width="70"></div></div></div>
            <div class="risk-item"><div class="risk-header"><span class="risk-name">Technology Readiness</span><span class="risk-level med">Medium</span></div><div class="risk-track"><div class="risk-fill med" data-width="55"></div></div></div>
            <div class="risk-item"><div class="risk-header"><span class="risk-name">Market Saturation</span><span class="risk-level med">Medium</span></div><div class="risk-track"><div class="risk-fill med" data-width="50"></div></div></div>
            <div class="risk-item"><div class="risk-header"><span class="risk-name">Vehicle Damage</span><span class="risk-level low">Low-Medium</span></div><div class="risk-track"><div class="risk-fill low" data-width="35"></div></div></div>
            <div class="risk-item"><div class="risk-header"><span class="risk-name">Competition (Waymo/Uber)</span><span class="risk-level med">Medium-High</span></div><div class="risk-track"><div class="risk-fill med" data-width="65"></div></div></div>
            <div class="risk-item"><div class="risk-header"><span class="risk-name">Economic Downturn</span><span class="risk-level low">Low</span></div><div class="risk-track"><div class="risk-fill low" data-width="25"></div></div></div>
            <div class="risk-item"><div class="risk-header"><span class="risk-name">Insurance Cost Increase</span><span class="risk-level low">Low</span></div><div class="risk-track"><div class="risk-fill low" data-width="20"></div></div></div>

            <div class="anomaly-box" style="margin-top:1.5rem;">
                <div class="anomaly-label">&#9888; Primary Risk Factors</div>
                <p>The two biggest risks — regulatory delays and competition — are external forces. Focus on what you can control: vehicle quality, operating hours, and market selection. Start in approved markets (TX, AZ, CA) and don't invest until FSD is approved in your area.</p>
            </div>
        </div>
    </div>

    <!-- GROWTH ROADMAP -->
    <div class="section-title">Growth Roadmap</div>
    <div class="row row-full">
        <div class="chart-card">
            <h2>Business Growth Timeline</h2>
            <div class="timeline">
                <div class="tl-item"><div class="tl-dot">1</div><div class="tl-content"><h3>Months 1–2: Purchase &amp; Setup</h3><p>Buy Tesla with FSD. Register on the network. Obtain commercial insurance. Set up a business entity.</p></div></div>
                <div class="tl-item"><div class="tl-dot">2</div><div class="tl-content"><h3>Months 3–6: Validate &amp; Optimize</h3><p>Run the robotaxi locally. Track revenue, costs, and peak hours. Optimize charging schedules. Build data history.</p></div></div>
                <div class="tl-item"><div class="tl-dot">3</div><div class="tl-content"><h3>Months 7–12: Scale to 3 Cars</h3><p>Reinvest profits into two additional Teslas. Expand coverage area. Target $15K+/month in profit.</p></div></div>
                <div class="tl-item"><div class="tl-dot">4</div><div class="tl-content"><h3>Year 2: Fleet of 5–10</h3><p>Pursue business financing. Hire a fleet manager. Expand to neighboring cities. $300K–$600K in annual revenue.</p></div></div>
                <div class="tl-item"><div class="tl-dot">5</div><div class="tl-content"><h3>Year 3+: Full Fleet Operations</h3><p>20+ vehicles across multiple markets. Established brand. $1M+ in annual revenue potential.</p></div></div>
            </div>
            <div class="insight-box">
                <div class="insight-label">Key Advantage</div>
                <p>You can start this business while keeping your current job. The car works while you do other things.</p>
            </div>
        </div>
    </div>

    <!-- HIGHLIGHT -->
    <div class="highlight-box">
        <div class="big-number">$622,440</div>
        <div class="big-label">Projected Annual Profit with a 10-Car Fleet (Moderate Scenario)</div>
    </div>

    <!-- FINANCIAL TABLE -->
    <div class="section-title">Financial Summary Table</div>
    <div class="row row-full">
        <div class="chart-card">
            <h2>Fleet Scaling — All Scenarios</h2>
            <div class="table-wrap">
                <table>
                    <thead>
                        <tr>
                            <th>Fleet Size</th>
                            <th>Startup Cost</th>
                            <th>Monthly Revenue</th>
                            <th>Monthly Costs</th>
                            <th>Monthly Profit</th>
                            <th>Annual Profit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1 Car</td><td class="cost">$57,990</td><td>$6,750</td><td class="cost">$1,563</td><td class="profit">$5,187</td><td class="profit">$62,244</td></tr>
                        <tr><td>3 Cars</td><td class="cost">$173,970</td><td>$20,250</td><td class="cost">$4,689</td><td class="profit">$15,561</td><td class="profit">$186,732</td></tr>
                        <tr><td>5 Cars</td><td class="cost">$289,950</td><td>$33,750</td><td class="cost">$7,815</td><td class="profit">$25,935</td><td class="profit">$311,220</td></tr>
                        <tr><td>10 Cars</td><td class="cost">$579,900</td><td>$67,500</td><td class="cost">$15,630</td><td class="profit">$51,870</td><td class="profit">$622,440</td></tr>
                    </tbody>
                </table>
            </div>
            <div class="chart-note">Profit scales linearly — each car adds ~$5,187/month. In most businesses, scaling means hiring managers and renting space. Here, scaling means buying another car.</div>
        </div>
    </div>

    <!-- DISCLAIMER -->
    <div class="disclaimer">
        <div class="disclaimer-title">&#9888; Important Legal Disclaimer</div>
        <div class="disclaimer-text">
            <p>Investment advice and analysis provided by CHIP, Licensed Financial Advisor at 1st Discount Brokerage | askchip@1db.com | Securities offered through 1DB. Member FINRA/SIPC. This material is for informational purposes only and should not be construed as investment advice. Past performance does not guarantee future results.</p>
            <p><strong>For Educational and Informational Purposes Only.</strong> The information, data, financial projections, charts, analysis, and all other content presented in this document (the "Materials") are provided strictly for educational, illustrative, and informational purposes. The Materials do not constitute financial advice, investment advice, tax advice, legal advice, or any other form of professional advice or recommendation.</p>
            <p><strong>No Guarantees or Warranties.</strong> All financial projections, revenue estimates, profit calculations, ROI figures, and break-even timelines are hypothetical and based on assumptions that may not reflect actual market conditions, regulatory environments, technology readiness, or business outcomes. Actual results may vary materially from projections presented.</p>
            <p><strong>Indemnification &amp; Hold Harmless.</strong> By accessing the Materials, the Recipient agrees to fully indemnify, defend, and hold harmless the author, creator, presenter, distributor, and all affiliated parties from any claims, demands, losses, damages, liabilities, costs, or expenses arising from use of or reliance upon the Materials, any decisions made based on the Materials, or any violation of applicable laws.</p>
            <p><strong>Limitation of Liability.</strong> The Indemnified Parties shall not be liable for any direct, indirect, incidental, special, consequential, punitive, or exemplary damages arising from the Materials, regardless of foreseeability or theory of liability.</p>
            <p><strong>Not Affiliated.</strong> The Materials are not affiliated with, endorsed by, or associated with Tesla, Inc. All trademarks are the property of their respective owners.</p>
            <p><strong>Consult Professionals.</strong> Consult with qualified financial advisors, accountants, attorneys, and business consultants before making any financial or business decisions.</p>
            <p><strong>Acceptance.</strong> By accessing or using the Materials, the Recipient acknowledges they have read, understood, and agree to all terms set forth in this disclaimer.</p>
        </div>
    </div>
    <div class="footer-brand">
        CHIP &bull; Wealth Management for Main Street &bull; <a href="mailto:askchip@1db.com">askchip@1db.com</a>
    </div>

</div>

<!-- ===== EXECUTIVE SUMMARY MODAL ===== -->
<div class="modal-overlay" id="summaryModal" onclick="if(event.target===this)closeSummary()">
    <div class="modal summary-modal">
        <div class="modal-header">
            <h3>&#9889; Executive Summary</h3>
            <button class="modal-close" onclick="closeSummary()">&times;</button>
        </div>
        <div class="modal-body summary-body">
            <div class="exec-hero">
                <div class="exec-hero-number">$62,244</div>
                <div class="exec-hero-label">Year 1 Net Profit — From a Single Car</div>
            </div>

            <div class="exec-section">
                <div class="exec-heading">The Opportunity</div>
                <p>Tesla's robotaxi network lets everyday investors deploy a self-driving vehicle that earns revenue 20 hours a day — with no driver, no shifts, and no payroll. One car. One investment. A business that runs while you sleep.</p>
            </div>

            <div class="exec-grid">
                <div class="exec-stat">
                    <div class="exec-stat-value">$57,990</div>
                    <div class="exec-stat-label">Total Startup Cost</div>
                </div>
                <div class="exec-stat">
                    <div class="exec-stat-value">$5,187/mo</div>
                    <div class="exec-stat-label">Monthly Profit</div>
                </div>
                <div class="exec-stat">
                    <div class="exec-stat-value">107%</div>
                    <div class="exec-stat-label">Year 1 ROI</div>
                </div>
                <div class="exec-stat">
                    <div class="exec-stat-value">11 Months</div>
                    <div class="exec-stat-label">Break-Even</div>
                </div>
            </div>

            <div class="exec-section">
                <div class="exec-heading">Why This Is Different</div>
                <p>Traditional ride-hail companies spend 60–70% of revenue on driver wages. Remove the driver, and that margin flows straight to the vehicle owner. Pair that with Tesla's electric drivetrain — $0.04/mile vs. $0.15/mile for gas — and you have a cost structure that no taxi, Uber, or Lyft driver can compete with.</p>
            </div>

            <div class="exec-callout">
                <div class="exec-callout-icon">&#128200;</div>
                <div>
                    <div class="exec-callout-title">The Fleet Multiplier</div>
                    <p>Start with 1 car. Reinvest profits. Scale to 10 vehicles within 2–3 years. Projected annual profit at 10 cars: <strong>$622,440</strong>. No employees. No lease. No inventory. Each car is a self-funding profit center.</p>
                </div>
            </div>

            <div class="exec-section">
                <div class="exec-heading">The Numbers at a Glance</div>
                <div class="exec-table-wrap">
                    <table class="exec-table">
                        <tr><td>Revenue per Car (Moderate)</td><td><strong>$6,750/mo</strong></td></tr>
                        <tr><td>Operating Costs</td><td><strong>$1,563/mo</strong></td></tr>
                        <tr><td>Tesla Platform Fee</td><td><strong>25%</strong></td></tr>
                        <tr><td>Profit Margin</td><td><strong>57%</strong></td></tr>
                        <tr><td>Daily Operating Hours</td><td><strong>Up to 20 hrs</strong></td></tr>
                        <tr><td>5-Year Fuel Savings vs. Gas</td><td><strong>$23,850</strong></td></tr>
                    </table>
                </div>
            </div>

            <div class="exec-callout exec-callout-red">
                <div class="exec-callout-icon">&#9888;</div>
                <div>
                    <div class="exec-callout-title">Key Risks to Monitor</div>
                    <p>Regulatory approval timelines vary by state. FSD technology must be fully certified. Market saturation could compress fares. Waymo and Uber are building competing networks. Start in approved markets and validate with real data before scaling.</p>
                </div>
            </div>

            <div class="exec-section">
                <div class="exec-heading">The Bottom Line</div>
                <p>For under $58,000, you can own a business that generates six-figure annual income, requires no employees, funds its own growth, and operates around the clock. Even in the worst-case scenario — where every variable moves against you — the model still generates $20,544 per year in profit. This isn't a speculative bet. It's a math equation.</p>
            </div>

            <div class="exec-footer-line">
                CHIP &bull; Wealth Management for Main Street &bull; For Educational Purposes Only
            </div>
        </div>
    </div>
</div>

<!-- ===== VIEW SOURCE MODAL ===== -->
<div class="modal-overlay" id="sourceModal" onclick="if(event.target===this)closeModal()">
    <div class="modal">
        <div class="modal-header">
            <h3>Source Data (JSON)</h3>
            <button class="modal-close" onclick="closeModal()">&times;</button>
        </div>
        <div class="modal-body">
            <pre id="sourceData"></pre>
        </div>
    </div>
</div>

<!-- ===== SCRIPTS ===== -->
<script>
const themes = ['default', 'bw'];
let currentTheme = 0;

function cycleTheme() {
    currentTheme = (currentTheme + 1) % themes.length;
    const t = themes[currentTheme];
    if (t === 'bw') {
        document.documentElement.setAttribute('data-theme', 'bw');
        document.getElementById('themeBtn').innerHTML = '&#9788; Color';
    } else {
        document.documentElement.removeAttribute('data-theme');
        document.getElementById('themeBtn').innerHTML = '&#9680; B&W';
    }
    updateChartTheme();
}

function updateChartTheme() {
    const isBW = themes[currentTheme] === 'bw';
    const txtColor = isBW ? '#000000' : '#A1A1AA';
    const gridColor = isBW ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.04)';
    Chart.helpers.each(Chart.instances, chart => {
        if (chart.options.scales?.x) {
            if (chart.options.scales.x.ticks) chart.options.scales.x.ticks.color = txtColor;
            if (chart.options.scales.x.grid) chart.options.scales.x.grid.color = gridColor;
            if (chart.options.scales.x.title) chart.options.scales.x.title.color = txtColor;
        }
        if (chart.options.scales?.y) {
            if (chart.options.scales.y.ticks) chart.options.scales.y.ticks.color = txtColor;
            if (chart.options.scales.y.grid) chart.options.scales.y.grid.color = gridColor;
            if (chart.options.scales.y.title) chart.options.scales.y.title.color = txtColor;
        }
        if (chart.options.plugins?.legend?.labels) {
            chart.options.plugins.legend.labels.color = txtColor;
        }
        if (isBW) {
            chart.data.datasets.forEach(ds => {
                if (Array.isArray(ds.backgroundColor)) {
                    ds._origBg = [...ds.backgroundColor];
                    ds.backgroundColor = ds.backgroundColor.map(() => '#000000');
                } else if (typeof ds.backgroundColor === 'string') {
                    ds._origBg = ds.backgroundColor;
                    ds.backgroundColor = ds.backgroundColor.startsWith('rgba') ? 'rgba(0,0,0,0.08)' : '#000000';
                }
                if (ds.borderColor && typeof ds.borderColor === 'string') {
                    ds._origBorder = ds.borderColor;
                    ds.borderColor = '#000000';
                }
                if (Array.isArray(ds.pointBackgroundColor)) {
                    ds._origPoints = [...ds.pointBackgroundColor];
                    ds.pointBackgroundColor = ds.pointBackgroundColor.map(() => '#000000');
                } else if (ds.pointBackgroundColor) {
                    ds._origPoints = ds.pointBackgroundColor;
                    ds.pointBackgroundColor = '#000000';
                }
            });
        } else {
            chart.data.datasets.forEach(ds => {
                if (ds._origBg) { ds.backgroundColor = ds._origBg; delete ds._origBg; }
                if (ds._origBorder) { ds.borderColor = ds._origBorder; delete ds._origBorder; }
                if (ds._origPoints) { ds.pointBackgroundColor = ds._origPoints; delete ds._origPoints; }
            });
        }
        chart.update('none');
    });
}

const sourceJSON = {
    title: "Tesla Robotaxi Business — Hypothetical Model",
    type: "Educational Financial Dashboard",
    author: "CHIP | 1st Discount Brokerage",
    disclaimer: "For educational and informational purposes only. Not financial advice.",
    vehicle: { model: "Tesla Model Y (Long Range)", price: 44990, fsd: 8000 },
    startup_costs: { vehicle: 44990, fsd_package: 8000, insurance_yr1: 3000, registration: 500, interior_protection: 300, safety_equipment: 200, total: 57990 },
    monthly_costs: { car_payment: 933, insurance: 250, electricity: 150, cleaning: 120, maintenance: 100, software: 10, total: 1563 },
    scenarios: {
        conservative: { hours_per_day: 6, monthly_profit: 2487, annual_profit: 29844, break_even_months: 23 },
        moderate: { hours_per_day: 10, monthly_profit: 5187, annual_profit: 62244, break_even_months: 11 },
        aggressive: { hours_per_day: 16, monthly_profit: 9237, annual_profit: 110844, break_even_months: 6 }
    },
    fleet_scaling: {
        "1_car": { annual_profit: 62244 }, "3_cars": { annual_profit: 186732 },
        "5_cars": { annual_profit: 311220 }, "10_cars": { annual_profit: 622440 }
    },
    key_metrics: { roi_year1: "107%", profit_margin: "57%", cost_per_mile_electric: 0.04, cost_per_mile_gas: 0.15 }
};

function openSummary() {
    document.getElementById('summaryModal').classList.add('active');
    document.body.style.overflow = 'hidden';
}
function closeSummary() {
    document.getElementById('summaryModal').classList.remove('active');
    document.body.style.overflow = '';
}

function openModal() {
    document.getElementById('sourceData').textContent = JSON.stringify(sourceJSON, null, 2);
    document.getElementById('sourceModal').classList.add('active');
    document.body.style.overflow = 'hidden';
}
function closeModal() {
    document.getElementById('sourceModal').classList.remove('active');
    document.body.style.overflow = '';
}
document.addEventListener('keydown', e => { if (e.key === 'Escape') { closeModal(); closeSummary(); }});

/* ===== CHART SETUP ===== */
const C = {
    yellow: '#FFFF00', yellowDim: '#CCCC00',
    teal: '#0ABAB5', tealDim: '#07807C',
    green: '#22C55E', greenDim: '#16A34A',
    red: '#EF4444', redDim: '#DC2626',
    blue: '#3B82F6', blueDim: '#2563EB',
    orange: '#F97316', orangeDim: '#EA580C',
    text: '#A1A1AA', grid: 'rgba(255,255,255,0.04)',
    gridLight: 'rgba(255,255,255,0.06)'
};

Chart.defaults.font.family = "'DM Sans', sans-serif";
Chart.defaults.font.size = 12;
Chart.defaults.color = C.text;

const tickStyle = { font: { size: 12, weight: '500' }, color: C.text };
const gridStyle = { color: C.grid };
const noGrid = { display: false };
const dollarTick = { ...tickStyle, callback: v => '$' + v.toLocaleString() };
const dollarTooltip = { callbacks: { label: ctx => (ctx.dataset.label ? ctx.dataset.label + ': ' : '') + '$' + ctx.raw.toLocaleString() }};
const legendStyle = { labels: { font: { size: 12 }, usePointStyle: true, padding: 14, color: C.text }};

// Scenario
new Chart(document.getElementById('scenarioChart'), {
    type: 'bar',
    data: {
        labels: ['Conservative (6 hrs/day)', 'Moderate (10 hrs/day)', 'Aggressive (16 hrs/day)'],
        datasets: [{ data: [2487, 5187, 9237], backgroundColor: [C.orange, C.teal, C.blue], borderRadius: 6, barPercentage: 0.6 }]
    },
    options: { responsive: true, plugins: { legend: { display: false }, tooltip: dollarTooltip }, scales: { x: { ticks: tickStyle, grid: noGrid }, y: { beginAtZero: true, ticks: dollarTick, grid: gridStyle }}}
});

// Annual
new Chart(document.getElementById('annualChart'), {
    type: 'bar',
    data: {
        labels: ['Conservative', 'Moderate', 'Aggressive'],
        datasets: [
            { label: 'Revenue', data: [48600, 81000, 129600], backgroundColor: C.blue, borderRadius: 4 },
            { label: 'Costs', data: [18756, 18756, 18756], backgroundColor: C.red, borderRadius: 4 },
            { label: 'Profit', data: [29844, 62244, 110844], backgroundColor: C.green, borderRadius: 4 }
        ]
    },
    options: { responsive: true, plugins: { legend: legendStyle, tooltip: dollarTooltip }, scales: { x: { ticks: tickStyle, grid: noGrid }, y: { beginAtZero: true, ticks: dollarTick, grid: gridStyle }}}
});

// Startup Pie
new Chart(document.getElementById('startupPie'), {
    type: 'doughnut',
    data: {
        labels: ['Tesla Model Y', 'FSD Package', 'Insurance', 'Registration', 'Interior', 'Safety'],
        datasets: [{ data: [44990, 8000, 3000, 500, 300, 200], backgroundColor: [C.teal, C.blue, C.orange, C.green, C.yellow, '#71717A'], borderWidth: 0, borderRadius: 3 }]
    },
    options: { responsive: true, cutout: '60%', plugins: { legend: { position: 'bottom', ...legendStyle }, tooltip: { callbacks: { label: ctx => ctx.label + ': $' + ctx.raw.toLocaleString() }}}}
});

// Monthly Cost Pie
new Chart(document.getElementById('monthlyCostPie'), {
    type: 'doughnut',
    data: {
        labels: ['Car Payment', 'Insurance', 'Electricity', 'Cleaning', 'Maintenance', 'Software'],
        datasets: [{ data: [933, 250, 150, 120, 100, 10], backgroundColor: [C.teal, C.orange, C.blue, C.green, C.yellow, '#71717A'], borderWidth: 0, borderRadius: 3 }]
    },
    options: { responsive: true, cutout: '60%', plugins: { legend: { position: 'bottom', ...legendStyle }, tooltip: { callbacks: { label: ctx => ctx.label + ': $' + ctx.raw.toLocaleString() + '/mo' }}}}
});

// Fleet
new Chart(document.getElementById('fleetChart'), {
    type: 'bar',
    data: {
        labels: ['1 Car', '3 Cars', '5 Cars', '10 Cars'],
        datasets: [
            { label: 'Annual Revenue', data: [81000, 243000, 405000, 810000], backgroundColor: C.blue, borderRadius: 4 },
            { label: 'Annual Profit', data: [62244, 186732, 311220, 622440], backgroundColor: C.green, borderRadius: 4 }
        ]
    },
    options: { responsive: true, plugins: { legend: legendStyle, tooltip: dollarTooltip }, scales: { x: { ticks: tickStyle, grid: noGrid }, y: { beginAtZero: true, ticks: dollarTick, grid: gridStyle }}}
});

// Break-Even Line
const months = ['Start','M1','M2','M3','M4','M5','M6','M7','M8','M9','M10','M11','M12','M13','M14','M15','M16','M17','M18'];
const cashFlow = [-57990];
for (let i = 1; i < months.length; i++) cashFlow.push(cashFlow[i - 1] + 5187);

new Chart(document.getElementById('breakEvenChart'), {
    type: 'line',
    data: {
        labels: months,
        datasets: [
            { label: 'Cumulative Cash Flow', data: cashFlow, borderColor: C.teal, backgroundColor: 'rgba(10,186,181,0.08)', fill: true, tension: 0.35, pointRadius: 5, pointBackgroundColor: cashFlow.map(v => v >= 0 ? C.green : C.red), pointBorderWidth: 0 },
            { label: 'Break-Even Line', data: Array(months.length).fill(0), borderColor: 'rgba(255,255,0,0.2)', borderDash: [6, 4], pointRadius: 0, fill: false }
        ]
    },
    options: { responsive: true, plugins: { legend: legendStyle, tooltip: dollarTooltip }, scales: { x: { ticks: tickStyle, grid: noGrid }, y: { ticks: dollarTick, grid: gridStyle }}}
});

// Break-Even Bars
new Chart(document.getElementById('breakEvenBars'), {
    type: 'bar',
    data: {
        labels: ['Conservative', 'Moderate', 'Aggressive'],
        datasets: [{ label: 'Months to Break Even', data: [23, 11, 6], backgroundColor: [C.orange, C.teal, C.blue], borderRadius: 6, barPercentage: 0.5 }]
    },
    options: { indexAxis: 'y', responsive: true, plugins: { legend: { display: false }, tooltip: { callbacks: { label: ctx => ctx.raw + ' months' }}}, scales: { x: { beginAtZero: true, title: { display: true, text: 'Months', color: C.text, font: { size: 13, weight: '600' }}, ticks: tickStyle, grid: gridStyle }, y: { ticks: tickStyle, grid: noGrid }}}
});

// Cost Per Mile
new Chart(document.getElementById('costPerMile'), {
    type: 'bar',
    data: {
        labels: ['Tesla Robotaxi', 'Uber/Lyft (Gas)', 'Traditional Taxi'],
        datasets: [{ data: [0.04, 0.15, 0.18], backgroundColor: [C.green, C.orange, C.red], borderRadius: 6, barPercentage: 0.5 }]
    },
    options: { responsive: true, plugins: { legend: { display: false }}, scales: { x: { ticks: tickStyle, grid: noGrid }, y: { beginAtZero: true, title: { display: true, text: '$ per Mile', color: C.text, font: { size: 13, weight: '600' }}, ticks: tickStyle, grid: gridStyle }}}
});

// Hours
new Chart(document.getElementById('hoursChart'), {
    type: 'bar',
    data: {
        labels: ['Tesla Robotaxi', 'Uber/Lyft Driver', 'Traditional Taxi'],
        datasets: [{ data: [20, 10, 12], backgroundColor: [C.green, C.orange, C.red], borderRadius: 6, barPercentage: 0.5 }]
    },
    options: { responsive: true, plugins: { legend: { display: false }}, scales: { x: { ticks: tickStyle, grid: noGrid }, y: { beginAtZero: true, max: 24, title: { display: true, text: 'Hours per Day', color: C.text, font: { size: 13, weight: '600' }}, ticks: tickStyle, grid: gridStyle }}}
});

// Fuel
new Chart(document.getElementById('fuelChart'), {
    type: 'line',
    data: {
        labels: ['Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5'],
        datasets: [
            { label: 'Electric (Tesla)', data: [1800, 3600, 5400, 7200, 9000], borderColor: C.green, backgroundColor: 'rgba(34,197,94,0.08)', fill: true, tension: 0.35, pointRadius: 5, pointBackgroundColor: C.green },
            { label: 'Gasoline', data: [6570, 13140, 19710, 26280, 32850], borderColor: C.red, backgroundColor: 'rgba(239,68,68,0.08)', fill: true, tension: 0.35, pointRadius: 5, pointBackgroundColor: C.red }
        ]
    },
    options: { responsive: true, plugins: { legend: legendStyle, tooltip: dollarTooltip }, scales: { x: { ticks: tickStyle, grid: noGrid }, y: { beginAtZero: true, ticks: dollarTick, title: { display: true, text: 'Cumulative Cost', color: C.text, font: { size: 13, weight: '600' }}, grid: gridStyle }}}
});

// Sensitivity
new Chart(document.getElementById('sensitivityChart'), {
    type: 'bar',
    data: {
        labels: ['Base Case', 'Fare −20%', 'Platform 30%', '8 hrs/day', 'Insurance +50%', 'All Negative'],
        datasets: [{ data: [5187, 3837, 4587, 3837, 5062, 1712], backgroundColor: [C.green, C.orange, C.orange, C.orange, C.orange, C.red], borderRadius: 6, barPercentage: 0.55 }]
    },
    options: { responsive: true, plugins: { legend: { display: false }, tooltip: dollarTooltip }, scales: { x: { ticks: { ...tickStyle, maxRotation: 45, minRotation: 0 }, grid: noGrid }, y: { beginAtZero: true, ticks: dollarTick, grid: gridStyle }}}
});

/* ===== ANIMATE RISK BARS ===== */
setTimeout(() => {
    document.querySelectorAll('.risk-fill').forEach(bar => {
        bar.style.width = bar.dataset.width + '%';
    });
}, 300);
</script>

</body>
</html>
